!function(n,t,e){"use strict";t.factory("windowStorage",function(){return function(n,t){var i=[],r=0,u=e.copy(n);this.root=function(){return r=0,new Promise(function(n){n(e.copy(u))})},this.prev=function(){return this.atTail().then(function(n){return n?void 0:(r--,e.copy(r-1>=0?i[r-1]:u))})},this.next=function(){return this.atHead().then(function(n){return n?!1:(r++,e.copy(i[r-1]))})},this.put=function(n){return new Promise(function(u){return angular.equals(i[r-1],n)?!1:(r<i.length&&(i=i.slice(0,r)),angular.isNumber(t)&&i.length>=t?i.shift():r++,void u(!!i.push(e.copy(n))))})},this.atTail=function(){return new Promise(function(n){n(!(i.length&&r>0))})},this.atHead=function(){return new Promise(function(n){n(!(i.length&&r<i.length))})}}})}(window,angular.module("Memento"),angular);